<!DOCTYPE html>
<html lang="en" class = "bg-black">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="TeraWav NFT Sound Kits" />
        <meta name="author" content="TeraWav" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <title>TeraWav</title>
        <link rel="icon" type="image/x-icon" href="pics/pic/TeraWav.jpg" />

        <!-- Ethereum Related -->
        <script src="https://unpkg.com/web3@latest/dist/web3.min.js"></script>
        <script type="text/javascript" src="https://unpkg.com/web3@latest/dist/web3.min.js"></script>

        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <!-- Core theme CSS (includes Bootstrap)-->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
        />
        <link rel="preconnect" href="https://fonts.googleapis.com"/>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Viaoda+Libre">
        <link href="css/styles.css" rel="stylesheet" />
        <link href="css/nucleo-icons.css" rel="stylesheet" />
  <link href="css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link href="css/nucleo-svg.css" rel="stylesheet" />
  <!-- CSS Files -->



    
    </head>
    
    <body id="page-top">

      <div class="modal fade animate__animated  animate__fadeInDown" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog " role="document">
          <div class="modal-content bg-greygrey text-white">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">TeraWAV</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                <audio controls style = "">
                  <source src="Music/immortal_preview.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
                </audio>
              </div>
                <div class="form-group">
                  <label for="recipient-name" class="col-form-label">Email</label>
                  <input type="text" class="form-control bg-greygrey text-white " id="inputEmail">
                </div>
                
      
    
      
              
                
              </form>
            </div>
            <div class="modal-footer">
            
              <button type="submit" id = "TERAWAV_PURCHASE" name = "KIT_PURCHASE" value = "success" class="btn btn-grey text-white">Purchase</button>

              <script>
                async function PURCHASE_WINDOW_X() {
                           
                  $('#TERAWAV_PURCHASE').attr('data-target','#exampleModal');    
                  $("#exampleModal").modal('hide');
                  console.log('Hide me');
            
             
           
           } 
              </script>

            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="errorwebModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
        <div class="modal-dialog modal-dialog-centered " style = "position: relative; right: 8px; ">
          <div class="modal-content bg-greygrey text-white" >
           
            <div class="modal-body bg-greygrey text-white">
             Error
               
      
            </div>
          
          </div>
        </div>
      </div> 

      <div class="modal fade" id="ZERO_ORDER_MODAL" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
        <div class="modal-dialog modal-dialog-centered " style = "position: relative; right: 8px; ">
          <div class="modal-content bg-greygrey text-white" >
           
            <div class="modal-body bg-greygrey text-white">
             You are trying to purchase nothing. Please put atleast the number 1 into one of the size "Amount" inputs.
               
      
            </div>
          
          </div>
        </div>
      </div>
      <div class="modal fade" id="successwebModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
        <div class="modal-dialog modal-dialog-centered " style = "position: relative; right: 8px; ">
          <div class="modal-content bg-greygrey text-white" >
           
            <div class="modal-body bg-greygrey text-white">
              You've successfully Purchased a TeraWav NFT <br>
              You now have access to the Immortal Beat Kit<br>
              Here's your transaction link: <br> <a id="suchash" class = "text-yellow" href="" >Receipt</a><br>
              Check out your NFT on <br> <a id="OPENSEA" class = "text-yellow" href="" >OpenSea <img style = "  width: 30px; right: 10px;" src="pics/pic/opensea.png"></a> <br>
               
      
            </div>
          
          </div>
        </div>
      </div>
      
      <script>
        function OPEN_SUCCESS_HASH() {
          window.open(document.getElementById('suchash').href, '_blank');
        };
      </script>
      
      <div class="modal fade" id="subwebModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
        <div class="modal-dialog modal-dialog-centered " style = "position: relative; right: 8px; ">
          <div class="modal-content bg-greygrey text-white" >
           
            <div class="modal-body bg-greygrey text-white">
              Transaction Submitted<br>
              Another window will pop up when transaction is confirmed<br>
              Here's your transaction link: <br> <a id="subhash" class = "text-yellow"  href="" >Confirmation</a><br>
               
      
            </div>
          <script>
            function OPEN_SUB_HASH() {
              window.open(document.getElementById('subhash').href, '_blank');
            };
          </script>
          </div>
        </div>
      </div>
                  
       
        <div class="modal fade" id="nowebModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
          <div class="modal-dialog modal-dialog-centered " style = "position: relative;  ">
            <div class="modal-content bg-greygrey text-white" >
             
              <div class="modal-body bg-greygrey text-white">
                You don't have a Web 3.0 wallet installed.<br>
                Please Install A Web 3.0 Wallet<br>
                Try Installing <a class = "text-yellow" href="https://metamask.io/">MetaMask.<img style = "  width: 30px; right: 10px;" src="pics/pic/meta.png"></a><br>
                 
        
              </div>
            
            </div>
          </div>
        </div>

   
            
            </div>
          </div>
        </div>

        <div class="modal fade" id="connectModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" style = "border-radius: 10px;">
          <div class="modal-dialog modal-dialog-centered " >
            <div class="modal-content bg-greygrey text-white" >
             
              <div class="modal-body bg-greygrey text-white">
               Connect Your Wallet!
        
              </div>
            
            </div>
          </div>
        </div>


      
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-transparent text-white animate__animated animate__fadeInDown">
    
    <button class="btn blur blur-rounded btn-greygrey animate__animated " style = " position: relative;padding: 0px 0px; left: 0px  " onclick = "SHIP_DATA();"><img src="pics/pic/music-folder.png " width = "60px" style = "position: relative; border-radius: 0%; top: 0px; left:13px " onclick = "SHIP_DATA();">
      <script>
        async function SHIP_DATA() {


                  

          if (window.ethereum !== undefined) {
                
            $("#Modalchart").modal('show');


               
          } else {
            
             

            $("#connectModal").modal('show');
           
  
               }
          
        
        } 
                          </script>


    <a class="navbar-brand  text-white"  onclick = "connectx(); check(); ethereum.on('connect', () => window.location.reload());"> 
      
    
      
      <button id = "buttoneth" value = "Connect"  class="btn blur blur-rounded btn-grey" style = "font-size: 0px; padding: 0px 0px; "
      onclick = "connectx(); check(); ethereum.on('connect', () => window.location.reload()); ">
      <style>
        .btn-greygrey {
background-color: #222222  !important;
}
          .btn-uniblue {
            background-color: rgba(76, 130, 251, 0.24) !important;
          }

          .btn-outline-retro {
            color: #ffffff00;
            border-color: #ffffff;
          }

      </style>
       <script>
           async function check() {
        // Then get the currently selected radio button's value
        
        console.log(window.ethereum)
  
        if (window.ethereum !== undefined) {
    // From now on, this should always be true:
    // provider === window.ethereum
            console.log(window.ethereum); // initialize your app
            
                                          } else {
  
            
             $("#nowebModal").modal('show');
    
                                          }
  
        // Check the value to make sure you want to show the modal
       
      }

      
        async function TERAWAV_ORACLE_CALL() {

          const accounts = await ethereum.request({method: 'eth_accounts' });
          const chainIDs = await ethereum.request({method: 'eth_chainId'});
            
         
          var numchain = {'0x89' : 'Polgyon'}
         
        
          var addychain = {'Polygon' : '0xf9680d99d6c9589e2a93a78a04a279e509205945'};
        
          var capchain = {'Polygon': 'ETH/USD'};
          var choosechain = numchain[chainIDs];
          
           
          await ethereum.request({
            method: 'eth_call',
            params: [{  
                       from: accounts[0],
                       to: addychain[choosechain],  
                       chainid: chainIDs,
                       data: '0x50d25bcd'}, 'latest']
          })
          .catch((err) => { if(err.code === 4001 ) 
            {console.log(err.code)}
                           }
                  ).then(result => { if(result === undefined) {console.log(result)} else{
                                var data = result;                       
                                console.log(parseInt(data));
                                const pricex = (50) / (parseInt(data) / 100000000);
                                
                                console.log('Smart Contract Address: ' + addychain[choosechain])
                                console.log("Latest " + capchain[choosechain] + " price was: " + parseInt(data)/ 100000000);
                                document.getElementById("mogsub").value = "Ξ " + pricex.toFixed(2) + " ETH" ;
                                
          
                                                                                              }
                            }
                  );
          
                              };
        

              
          
        
     
      
         async function changex()
{  
  const accounts = await ethereum.request({ method: 'eth_accounts' });

const chainIDs = await ethereum.request({method: 'eth_chainId'});
if (chainIDs !== "0x89") {
  document.getElementById("connecteth").innerHTML = "Polygon Only";
 switchChain("Polygon") ;
 ethereum.on('chainChanged', (_chainId) => window.location.reload());

} else {

  document.getElementById("connecteth").innerHTML = accounts[0].substring(0,6) + "...";
  document.getElementById("Avatar").src = "pics/pic/greenensimage.png";

}

}

async function switchChain(chains) {
  
  const Polygon = [{ chainId: '0x89'}]; 
  const Polygonp = '0x89' ; 


  var chainsx = { "Polygon" : Polygon};
var chainx = { "Polygon" : Polygonp};

var RPCchain = {'Polygon' : ' https://polygon-rpc.com/'}
var symChain = {'Polygon' : 'MATIC'}
var expchain = {'Polygon' : 'https://polygonscan.io/'}


await ethereum.request({
          method: 'wallet_switchEthereumChain',
          params: chainsx[chains]
    }).catch(async (switchError) => {
                              // This error code indicates that the chain has not been added to MetaMask.
if (switchError.code === 4902) {
            await ethereum.request({
                    method: 'wallet_addEthereumChain',
                    params: [
                                { 
                                  chainId: chainx[chains], 
                                  chainName: chains, 
                                  nativeCurrency: {
                                                        name: chains,
                                                        symbol: symChain[chains],
                                                        decimals: 18
                                }, 
                                  rpcUrls: [RPCchain[chains]], 
                                  blockExplorerUrls: [expchain[chains]]
                }
                
                ]
              });
}
// handle other "switch" errors
})

ethereum.on('chainChanged', (_chainId) => window.location.reload());







};
async function connectx() {

  ethereum
  .request({ method: 'eth_requestAccounts' })
  .then(changex)
  .catch((err) => {
    if (err.code === 4001) {
      // EIP-1193 userRejectedRequest error
      // If this happens, the user rejected the connection request.
      console.log('Please connect to MetaMask.');
      document.getElementById("connecteth").innerHTML = "Rejected";

      
    } else {
      console.error(err);
    }
  }).then((result) => { window.location.reload()});



};






       </script> 
       
       <img onload = "changex(); " src="pics/pic/goldensimage.png" id="Avatar" width = "50px" style = "position: relative; border-radius: 50%; top: 2px; left: 5px; ">
       <a id = "connecteth"  class=" btn blur blur-rounded btn-greygrey text-white " style = "font-size: 15px;padding: 15px 15px;  right: 8px; top:-5px;  position: relative"> Connect
      </a>

    <style>
  .bg-darkgrey {
  background-color: #333333  !important;
}

.btn-lightgrey {
  background-color: #333333 !important;

}
    </style>
      
    
  
  </nav>  
   <script type="text/javascript">
          async function changext()
  {  
       
       
        const accounts = await ethereum.request({ method: 'eth_accounts' });
        const chainIDs = await ethereum.request({method: 'eth_chainId'});

        const web3 = new Web3(new Web3.providers.HttpProvider("https://polygon-mainnet.infura.io/v3/3ac1c65d7658459ebafe15361c77dbac"))
      
if (chainIDs !== "0x89") {
  document.getElementById("connecteth").innerHTML = "Polygon Only";
  ethereum.on('chainChanged', (_chainId) => window.location.reload());

} else {
  document.getElementById("connecteth").innerHTML = accounts[0].substring(0,12) + "...";
  document.getElementById("Avatar").src = "pics/pic/greenensimage.png"
  TERAWAV_ORACLE_CALL()

}
                                        };
        
        
    
  


  

    


  
</script>
        
 

        <!-- Masthead-->
        <header class="masthead ">

          

            <div class="container d-flex h-100 align-items-center  animate__animated animate__fadeInDown">
                  <div class="mx-auto text-center">
                   

                   
                  
                    <img  onload = "changex();changext();" class="img-fluid "  src="pics/pic/immortal.png" width = "350" height = "350" alt="" >
                    
                        
                    <button id = "ineedit" class="btn blur blur-rounded btn-grey mogul-btn" style= "font-size: 1px; padding: 5px 40px; right: 5px;  " data-toggle="modal" data-target="" data-whatever="@mdo"
                        onclick = "blackout(); blackout();">
                        <script>
                          async function blackout() {
                           

        if (window.ethereum !== undefined) {
             $('#ineedit').attr('data-target','#exampleModal');    
             $("#exampleModal").modal('show');
        } else {
          
           
             console.log(window.ethereum)
          $("#connectModal").modal('show');
         

             }
        
      
      } 

      async function PURCHASE_WINDOW_X() {
                           
             $('#SUBMITmOGUL').attr('data-target','#exampleModal');    
             $("#exampleModal").modal('hide');
       
        
      
      } 

    </script>
                        <style>
                          .btn-greygrey {
                  background-color: #222222  !important;
                  }
                  .btn-darkgrey {
                  background-color: #464545  !important;
                  }
                        </style>
                     <a class="text-white" style = "font-size: 20px;  border-radius:5%; right: 0px; top: 7px; position: relative" onclick = "blackout(); "> $50
                    </a>
                    <input type ="button" class="btn text-white blur blur-rounded btn-greygrey" id = 'mogsub' style = "font-size: 15px; left: 15px; top: 0px; position: relative" onclick = "blackout();" value ="Connect">
                  </input>
                     
                  
                    <style>
                      .btn-greygrey {
          background-color: #222222  !important;
        }
                    </style>


                    <script>
                      async function TERAWAV_ORACLE_CALL() {
        
                        const accounts = await ethereum.request({method: 'eth_accounts' });
                        const chainIDs = await ethereum.request({method: 'eth_chainId'});
                          
                       
                        var numchain = {'0x89' : 'Polygon'}
                       
                      
                        var addychain = {'Polygon' : '0xf9680d99d6c9589e2a93a78a04a279e509205945'};
                      
                        var capchain = {'Polygon': 'ETH/USD'};
                        var choosechain = numchain[chainIDs];
                        
                         
                        await ethereum.request({
                          method: 'eth_call',
                          params: [{  
                                     from: accounts[0],
                                     to: addychain[choosechain],  
                                     chainid: chainIDs,
                                     data: '0x50d25bcd'}, 'latest']
                        })
                        .catch((err) => { if(err.code === 4001 ) 
                          {console.log(err.code)}
                                         }
                                ).then(result => { if(result === undefined) {console.log(result)} else{
                                              var data = result;                       
                                              console.log(parseInt(data));
                                              const pricex = (50) / (parseInt(data) / 100000000);
                                              
                                              console.log('Smart Contract Address: ' + addychain[choosechain])
                                              console.log("Latest " + capchain[choosechain] + " price was: " + parseInt(data)/ 100000000);
                                              document.getElementById("mogsub").value = "Ξ " + pricex.toFixed(2) + " ETH" ;
                                              
                        
                                                                                                            }
                                          }
                                );
                        
                                            };
                      
      
                            
                        
                      
                   
                    </script>                   





                </div>
            </div>
            
        </header>


        
        <!-- About-->
        

        <!-- Footer-->

      
        <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-analytics.js"></script>

<script>



const firebaseConfig = {
  apiKey: "AIzaSyD9TMz1zFN8YND3R8529pyAbGZv-9JmSNE",
  authDomain: "terawavy.firebaseapp.com",
  projectId: "terawavy",
  storageBucket: "terawavy.appspot.com",
  messagingSenderId: "1055234692944",
  appId: "1:1055234692944:web:55b5dc255720f006997e55",
  measurementId: "G-C6DYHGGFY1"
};


 firebase.initializeApp(firebaseConfig)
</script>

        <script src="https://cdn.jsdelivr.net/npm/@metamask/detect-provider"></script>
        <!-- Bootstrap core JS-->
       <script src="https://cdnjs.cloudflare.com/ajax/libs/utf8/3.0.0/utf8.js" integrity="sha512-TpkRcfygox9TaC40D5Nu9CQElI7PaQ9d+/RrhWccgvktjgh/HITPo+VZ+xQc98DZbiR3Ct/z9BHXAp/m88j/kw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/utf8/3.0.0/utf8.min.js" integrity="sha512-Up/VFqLmUsS5GMd4XTuxE6NsCsBJlPv12A9apHDqRx8v/x+++Qmmg2M1kTs8cQztxHk0d/rgAqmVOjzEKBZH7A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script type="text/javascript" src="js-main/utils.js"></script>
        <script type="text/javascript" src="js/metaAcct.js"></script>
        <script type="text/javascript" src="js/ABI_TERAWAV.1.js"></script>
        <script type="text/javascript" src="js/TERAWAV.js"></script>
        
        
    </body>
</html>

